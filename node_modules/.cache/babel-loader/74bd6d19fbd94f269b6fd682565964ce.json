{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\86136\\\\Desktop\\\\\\u5B66\\u4E60\\u8FDB\\u5EA6\\\\new_html\\\\fullstack_yyf\\\\react\\\\cloud-music\\\\src\\\\application\\\\Recommend\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport Slider from '../../components/slider/';\nimport { connect } from \"react-redux\"; // store 连接到当前组件\n\nimport * as actionTypes from './store/actionCreators';\nimport RecommendList from '../../components/list/';\nimport Scroll from '../../baseUI/scroll/index';\nimport { Content } from './style';\nimport { forceCheck } from 'react-lazyload';\nimport { renderRoutes } from 'react-router-config';\nimport Loading from '../../baseUI/loading/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Recommend(props) {\n  _s();\n\n  // console.log(props,'-------------')\n  const {\n    bannerList,\n    recommendList,\n    enterLoading\n  } = props;\n  const {\n    getBannerDataDispatch,\n    getRecommendListDataDispatch\n  } = props;\n  useEffect(() => {\n    if (!bannerList.size) {\n      getBannerDataDispatch();\n    }\n\n    if (!recommendList.size) {\n      getRecommendListDataDispatch();\n    } // eslint-disable-next-line\n\n  }, []);\n  const bannerListJS = bannerList ? bannerList.toJS() : [];\n  const recommendListJS = recommendList ? recommendList.toJS() : [];\n  return /*#__PURE__*/_jsxDEV(Content, {\n    children: [/*#__PURE__*/_jsxDEV(Scroll, {\n      className: \"list\",\n      onScroll: forceCheck,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Slider, {\n          bannerList: bannerListJS\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(RecommendList, {\n          recommendList: recommendListJS\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), enterLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 22\n    }, this) : null, renderRoutes(props.route.routes)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n} // 映射Redux全局的state到组件的props上\n\n\n_s(Recommend, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Recommend;\n\nconst mapStateToProps = state => ({\n  // 从 recommend 分支中拿数据\n  bannerList: state.getIn(['recommend', 'bannerList']),\n  recommendList: state.getIn(['recommend', 'recommendList']),\n  enterLoading: state.getIn(['recommend', 'enterLoading']),\n  all: state\n}); // 映射dispatch到props上\n\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    getBannerDataDispatch() {\n      dispatch(actionTypes.getBannerList());\n    },\n\n    getRecommendListDataDispatch() {\n      dispatch(actionTypes.getRecommendList());\n    }\n\n  };\n}; // 将ui组件包装成容器组件 \n// 将 mapStateToProps,mapDispatchToProps 参数传递给 Recommend 组件\n// connect 高阶组件  Recommend 原组件作为参数传给 connect ,返回值任然是组件\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)( /*#__PURE__*/React.memo(Recommend));\n\nvar _c;\n\n$RefreshReg$(_c, \"Recommend\");","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Recommend/index.js"],"names":["React","useEffect","Slider","connect","actionTypes","RecommendList","Scroll","Content","forceCheck","renderRoutes","Loading","Recommend","props","bannerList","recommendList","enterLoading","getBannerDataDispatch","getRecommendListDataDispatch","size","bannerListJS","toJS","recommendListJS","route","routes","mapStateToProps","state","getIn","all","mapDispatchToProps","dispatch","getBannerList","getRecommendList","memo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,OAAT,QAAwB,aAAxB,C,CAAsC;;AACtC,OAAO,KAAKC,WAAZ,MAA6B,wBAA7B;AACA,OAAOC,aAAP,MAA0B,wBAA1B;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAOC,OAAP,MAAoB,4BAApB;;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAAyB;AAAA;;AACvB;AACA,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA,aAAd;AAA6BC,IAAAA;AAA7B,MAA8CH,KAApD;AAEA,QAAM;AAAEI,IAAAA,qBAAF;AAAyBC,IAAAA;AAAzB,MAA0DL,KAAhE;AAEAX,EAAAA,SAAS,CAAC,MAAM;AACd,QAAG,CAACY,UAAU,CAACK,IAAf,EAAoB;AAClBF,MAAAA,qBAAqB;AACtB;;AACD,QAAG,CAACF,aAAa,CAACI,IAAlB,EAAuB;AACrBD,MAAAA,4BAA4B;AAC7B,KANa,CAOd;;AACD,GARQ,EAQN,EARM,CAAT;AAUA,QAAME,YAAY,GAAGN,UAAU,GAAGA,UAAU,CAACO,IAAX,EAAH,GAAuB,EAAtD;AACA,QAAMC,eAAe,GAAGP,aAAa,GAAGA,aAAa,CAACM,IAAd,EAAH,GAAyB,EAA9D;AAEA,sBACE,QAAC,OAAD;AAAA,4BACE,QAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,MAAlB;AAAyB,MAAA,QAAQ,EAAEZ,UAAnC;AAAA,6BACE;AAAA,gCACE,QAAC,MAAD;AAAQ,UAAA,UAAU,EAAEW;AAApB;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,aAAD;AAAe,UAAA,aAAa,EAAEE;AAA9B;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,EAOGN,YAAY,gBAAE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAAF,GAAwB,IAPvC,EAQIN,YAAY,CAACG,KAAK,CAACU,KAAN,CAAYC,MAAb,CARhB;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,C,CAED;;;GAjCSZ,S;;KAAAA,S;;AAkCT,MAAMa,eAAe,GAAIC,KAAD,KAAY;AAClC;AACAZ,EAAAA,UAAU,EAAEY,KAAK,CAACC,KAAN,CAAY,CAAC,WAAD,EAAc,YAAd,CAAZ,CAFsB;AAGlCZ,EAAAA,aAAa,EAAEW,KAAK,CAACC,KAAN,CAAY,CAAC,WAAD,EAAc,eAAd,CAAZ,CAHmB;AAIlCX,EAAAA,YAAY,EAAEU,KAAK,CAACC,KAAN,CAAY,CAAC,WAAD,EAAc,cAAd,CAAZ,CAJoB;AAKlCC,EAAAA,GAAG,EAAEF;AAL6B,CAAZ,CAAxB,C,CAOA;;;AACA,MAAMG,kBAAkB,GAAIC,QAAD,IAAc;AACvC,SAAO;AACLb,IAAAA,qBAAqB,GAAG;AACtBa,MAAAA,QAAQ,CAACzB,WAAW,CAAC0B,aAAZ,EAAD,CAAR;AACD,KAHI;;AAILb,IAAAA,4BAA4B,GAAG;AAC7BY,MAAAA,QAAQ,CAACzB,WAAW,CAAC2B,gBAAZ,EAAD,CAAR;AACD;;AANI,GAAP;AASD,CAVD,C,CAYA;AACA;AACA;;;AACA,eAAe5B,OAAO,CAACqB,eAAD,EAAkBI,kBAAlB,CAAP,eAA6C5B,KAAK,CAACgC,IAAN,CAAWrB,SAAX,CAA7C,CAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport Slider from '../../components/slider/';\r\nimport { connect } from \"react-redux\";// store 连接到当前组件\r\nimport * as actionTypes from './store/actionCreators';\r\nimport RecommendList from '../../components/list/';\r\nimport Scroll from '../../baseUI/scroll/index';\r\nimport { Content } from './style';\r\nimport { forceCheck } from 'react-lazyload';\r\nimport { renderRoutes } from 'react-router-config';\r\nimport Loading from '../../baseUI/loading/index';\r\n\r\nfunction Recommend(props){\r\n  // console.log(props,'-------------')\r\n  const { bannerList, recommendList, enterLoading } = props;\r\n\r\n  const { getBannerDataDispatch, getRecommendListDataDispatch } = props;\r\n\r\n  useEffect(() => {\r\n    if(!bannerList.size){\r\n      getBannerDataDispatch();\r\n    }\r\n    if(!recommendList.size){\r\n      getRecommendListDataDispatch();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const bannerListJS = bannerList ? bannerList.toJS() : [];\r\n  const recommendListJS = recommendList ? recommendList.toJS() :[];\r\n\r\n  return (\r\n    <Content>\r\n      <Scroll className=\"list\" onScroll={forceCheck}>\r\n        <div>\r\n          <Slider bannerList={bannerListJS}></Slider>\r\n          <RecommendList recommendList={recommendListJS}></RecommendList>\r\n        </div>\r\n      </Scroll>\r\n      {enterLoading? <Loading></Loading> : null}\r\n      { renderRoutes(props.route.routes) }\r\n    </Content> \r\n  );\r\n}\r\n\r\n// 映射Redux全局的state到组件的props上\r\nconst mapStateToProps = (state) => ({\r\n  // 从 recommend 分支中拿数据\r\n  bannerList: state.getIn(['recommend', 'bannerList']),\r\n  recommendList: state.getIn(['recommend', 'recommendList']),\r\n  enterLoading: state.getIn(['recommend', 'enterLoading']),\r\n  all: state\r\n});\r\n// 映射dispatch到props上\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getBannerDataDispatch() {\r\n      dispatch(actionTypes.getBannerList());\r\n    },\r\n    getRecommendListDataDispatch() {\r\n      dispatch(actionTypes.getRecommendList());\r\n    },\r\n\r\n  }\r\n};\r\n\r\n// 将ui组件包装成容器组件 \r\n// 将 mapStateToProps,mapDispatchToProps 参数传递给 Recommend 组件\r\n// connect 高阶组件  Recommend 原组件作为参数传给 connect ,返回值任然是组件\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Recommend));\r\n"]},"metadata":{},"sourceType":"module"}