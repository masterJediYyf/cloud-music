{"ast":null,"code":"import _slicedToArray from\"C:/Users/86136/Desktop/\\u5B66\\u4E60\\u8FDB\\u5EA6/new_html/fullstack_yyf/react/cloud-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useReducer}from'react';import{fromJS}from'immutable';//context\nimport{jsx as _jsx}from\"react/jsx-runtime\";export var CategoryDataContext=/*#__PURE__*/createContext({});// 相当于之前的 constants\nexport var CHANGE_CATEGORY='singers/CHANGE_CATEGORY';export var CHANGE_ALPHA='singers/CHANGE_ALPHA';//reducer 纯函数\nvar reducer=function reducer(state,action){switch(action.type){case CHANGE_CATEGORY:return state.set('category',action.data);case CHANGE_ALPHA:return state.set('alpha',action.data);default:return state;}};//Provider 组件\nexport var Data=function Data(props){//useReducer 的第二个参数中传入初始值\nvar _useReducer=useReducer(reducer,fromJS({category:'',alpha:''})),_useReducer2=_slicedToArray(_useReducer,2),data=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/_jsx(CategoryDataContext.Provider,{value:{data:data,dispatch:dispatch},children:props.children});};","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Singers/data.js"],"names":["React","createContext","useReducer","fromJS","CategoryDataContext","CHANGE_CATEGORY","CHANGE_ALPHA","reducer","state","action","type","set","data","Data","props","category","alpha","dispatch","children"],"mappings":"+MAAA,MAAOA,CAAAA,KAAP,EAAeC,aAAf,CAA8BC,UAA9B,KAA+C,OAA/C,CACA,OAASC,MAAT,KAAuB,WAAvB,CAEA;2CACA,MAAO,IAAMC,CAAAA,mBAAmB,cAAGH,aAAa,CAAE,EAAF,CAAzC,CAEP;AACA,MAAO,IAAMI,CAAAA,eAAe,CAAG,yBAAxB,CACP,MAAO,IAAMC,CAAAA,YAAY,CAAG,sBAArB,CAEP;AACA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjC,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKL,CAAAA,eAAL,CACE,MAAOG,CAAAA,KAAK,CAACG,GAAN,CAAW,UAAX,CAAuBF,MAAM,CAACG,IAA9B,CAAP,CACF,IAAKN,CAAAA,YAAL,CACE,MAAOE,CAAAA,KAAK,CAACG,GAAN,CAAW,OAAX,CAAoBF,MAAM,CAACG,IAA3B,CAAP,CACF,QACE,MAAOJ,CAAAA,KAAP,CANJ,CAQD,CATD,CAWA;AACA,MAAO,IAAMK,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAAAC,KAAK,CAAI,CAC3B;AAD2B,gBAEFZ,UAAU,CAAEK,OAAF,CAAWJ,MAAM,CAAE,CACpDY,QAAQ,CAAE,EAD0C,CAEpDC,KAAK,CAAE,EAF6C,CAAF,CAAjB,CAFR,4CAEpBJ,IAFoB,iBAEdK,QAFc,iBAM3B,mBACE,KAAC,mBAAD,CAAqB,QAArB,EAA8B,KAAK,CAAE,CAACL,IAAI,CAAJA,IAAD,CAAOK,QAAQ,CAARA,QAAP,CAArC,UACGH,KAAK,CAACI,QADT,EADF,CAKD,CAXM","sourcesContent":["import React, {createContext, useReducer} from 'react';\r\nimport { fromJS } from 'immutable';\r\n\r\n//context\r\nexport const CategoryDataContext = createContext ({});\r\n\r\n// 相当于之前的 constants\r\nexport const CHANGE_CATEGORY = 'singers/CHANGE_CATEGORY';\r\nexport const CHANGE_ALPHA = 'singers/CHANGE_ALPHA';\r\n\r\n//reducer 纯函数\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case CHANGE_CATEGORY:\r\n      return state.set ('category', action.data);\r\n    case CHANGE_ALPHA:\r\n      return state.set ('alpha', action.data);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//Provider 组件\r\nexport const Data = props => {\r\n  //useReducer 的第二个参数中传入初始值\r\n  const [data, dispatch] = useReducer (reducer, fromJS ({\r\n    category: '',\r\n    alpha: ''\r\n  }));\r\n  return (\r\n    <CategoryDataContext.Provider value={{data, dispatch}}>\r\n      {props.children}\r\n    </CategoryDataContext.Provider>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}