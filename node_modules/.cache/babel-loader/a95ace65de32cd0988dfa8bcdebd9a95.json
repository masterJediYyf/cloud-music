{"ast":null,"code":"import React,{useRef}from\"react\";import{getName,formatPlayTime}from\"../../../api/utils\";import{NormalPlayerContainer,Top,Middle,Bottom,Operators,CDWrapper,ProgressWrapper}from\"./style\";import{CSSTransition}from\"react-transition-group\";import{prefixStyle}from\"../../../api/utils\";import animations from\"create-keyframe-animation\";import ProgressBar from\"../../../baseUI/progressBar\";import{playMode}from'./../../../api/config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NormalPlayer(props){var fullScreen=props.fullScreen,song=props.song,mode=props.mode,playing=props.playing,percent=props.percent,currentTime=props.currentTime,duration=props.duration;var changeMode=props.changeMode,handlePrev=props.handlePrev,handleNext=props.handleNext,onProgressChange=props.onProgressChange,clickPlaying=props.clickPlaying,toggleFullScreen=props.toggleFullScreen;var normalPlayerRef=useRef();var cdWrapperRef=useRef();var transform=prefixStyle(\"transform\");var _getPosAndScale=function _getPosAndScale(){var targetWidth=40;var paddingLeft=40;var paddingBottom=30;var paddingTop=80;var width=window.innerWidth*0.8;var scale=targetWidth/width;// 两个圆心的横坐标距离和纵坐标距离\nvar x=-(window.innerWidth/2-paddingLeft);var y=window.innerHeight-paddingTop-width/2-paddingBottom;return{x:x,y:y,scale:scale};};var enter=function enter(){normalPlayerRef.current.style.display=\"block\";var _getPosAndScale2=_getPosAndScale(),x=_getPosAndScale2.x,y=_getPosAndScale2.y,scale=_getPosAndScale2.scale;//获取miniPlayer图片中心相对normalPlayer唱片中心的偏移\nvar animation={0:{transform:\"translate3d(\".concat(x,\"px,\").concat(y,\"px,0) scale(\").concat(scale,\")\")},60:{transform:\"translate3d(0, 0, 0) scale(1.1)\"},100:{transform:\"translate3d(0, 0, 0) scale(1)\"}};animations.registerAnimation({name:\"move\",animation:animation,presets:{duration:400,easing:\"linear\"}});animations.runAnimation(cdWrapperRef.current,\"move\");};var afterEnter=function afterEnter(){// 进入后解绑帧动画\nvar cdWrapperDom=cdWrapperRef.current;animations.unregisterAnimation(\"move\");cdWrapperDom.style.animation=\"\";};var leave=function leave(){if(!cdWrapperRef.current)return;var cdWrapperDom=cdWrapperRef.current;cdWrapperDom.style.transition=\"all 0.4s\";var _getPosAndScale3=_getPosAndScale(),x=_getPosAndScale3.x,y=_getPosAndScale3.y,scale=_getPosAndScale3.scale;cdWrapperDom.style[transform]=\"translate3d(\".concat(x,\"px, \").concat(y,\"px, 0) scale(\").concat(scale,\")\");};var afterLeave=function afterLeave(){if(!cdWrapperRef.current)return;var cdWrapperDom=cdWrapperRef.current;cdWrapperDom.style.transition=\"\";cdWrapperDom.style[transform]=\"\";normalPlayerRef.current.style.display=\"none\";};var getPlayMode=function getPlayMode(){var content;if(mode===playMode.sequence){content=\"&#xe625;\";}else if(mode===playMode.loop){content=\"&#xe653;\";}else{content=\"&#xe61b;\";}return content;};return/*#__PURE__*/_jsx(CSSTransition,{classNames:\"normal\",in:fullScreen,timeout:400,mountOnEnter:true,onEnter:enter,onEntered:afterEnter,onExit:leave,onExited:afterLeave,children:/*#__PURE__*/_jsxs(NormalPlayerContainer,{ref:normalPlayerRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:/*#__PURE__*/_jsx(\"img\",{src:song.al.picUrl+\"?param=300x300\",width:\"100%\",height:\"100%\",alt:\"\\u6B4C\\u66F2\\u56FE\\u7247\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"background layer\"}),/*#__PURE__*/_jsxs(Top,{className:\"top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"back\",onClick:function onClick(){return toggleFullScreen(false);},children:/*#__PURE__*/_jsx(\"i\",{className:\"iconfont icon-back\",children:\"\\uE662\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:song.name}),/*#__PURE__*/_jsx(\"h1\",{className:\"subtitle\",children:getName(song.ar)})]}),/*#__PURE__*/_jsx(Middle,{ref:cdWrapperRef,children:/*#__PURE__*/_jsx(CDWrapper,{children:/*#__PURE__*/_jsx(\"div\",{className:\"cd\",children:/*#__PURE__*/_jsx(\"img\",{className:\"image play \".concat(playing?\"\":\"pause\"),src:song.al.picUrl+\"?param=400x400\",alt:\"\"})})})}),/*#__PURE__*/_jsxs(Bottom,{className:\"bottom\",children:[/*#__PURE__*/_jsxs(ProgressWrapper,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"time time-l\",children:formatPlayTime(currentTime)}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar-wrapper\",children:/*#__PURE__*/_jsx(ProgressBar,{percent:percent,percentChange:onProgressChange})}),/*#__PURE__*/_jsx(\"div\",{className:\"time time-r\",children:formatPlayTime(duration)})]}),/*#__PURE__*/_jsxs(Operators,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon i-left\",onClick:changeMode,children:/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",dangerouslySetInnerHTML:{__html:getPlayMode()}})}),/*#__PURE__*/_jsx(\"div\",{className:\"icon i-left\",onClick:handlePrev,children:/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE6E1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"icon i-center\",children:/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",onClick:function onClick(e){return clickPlaying(e,!playing);},dangerouslySetInnerHTML:{__html:playing?\"&#xe723;\":\"&#xe731;\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"icon i-right\",onClick:handleNext,children:/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE718\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"icon i-right\",children:/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE640\"})})]})]})]})});}export default/*#__PURE__*/React.memo(NormalPlayer);","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Player/normalPlayer/index.js"],"names":["React","useRef","getName","formatPlayTime","NormalPlayerContainer","Top","Middle","Bottom","Operators","CDWrapper","ProgressWrapper","CSSTransition","prefixStyle","animations","ProgressBar","playMode","NormalPlayer","props","fullScreen","song","mode","playing","percent","currentTime","duration","changeMode","handlePrev","handleNext","onProgressChange","clickPlaying","toggleFullScreen","normalPlayerRef","cdWrapperRef","transform","_getPosAndScale","targetWidth","paddingLeft","paddingBottom","paddingTop","width","window","innerWidth","scale","x","y","innerHeight","enter","current","style","display","animation","registerAnimation","name","presets","easing","runAnimation","afterEnter","cdWrapperDom","unregisterAnimation","leave","transition","afterLeave","getPlayMode","content","sequence","loop","al","picUrl","ar","__html","e","memo"],"mappings":"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","sourcesContent":["import React, {useRef} from \"react\";\r\nimport {  getName, formatPlayTime } from \"../../../api/utils\";\r\nimport {\r\n  NormalPlayerContainer,\r\n  Top,\r\n  Middle,\r\n  Bottom,\r\n  Operators,\r\n  CDWrapper,\r\n  ProgressWrapper\r\n} from \"./style\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport { prefixStyle } from \"../../../api/utils\";\r\nimport animations from \"create-keyframe-animation\";\r\nimport ProgressBar from \"../../../baseUI/progressBar\";\r\nimport { playMode } from './../../../api/config';\r\n\r\n\r\nfunction NormalPlayer(props) {\r\n  const {\r\n    fullScreen,\r\n    song,\r\n    mode,\r\n    playing,\r\n    percent,\r\n    currentTime,\r\n    duration,\r\n  } = props;\r\n\r\n  const {\r\n    changeMode,\r\n    handlePrev,\r\n    handleNext,\r\n    onProgressChange,\r\n    clickPlaying,\r\n    toggleFullScreen\r\n  } = props;\r\n\r\n  const normalPlayerRef = useRef();\r\n  const cdWrapperRef = useRef();\r\n  \r\n  const transform = prefixStyle(\"transform\");\r\n\r\n  const _getPosAndScale = () => {\r\n    const targetWidth = 40;\r\n    const paddingLeft = 40;\r\n    const paddingBottom = 30;\r\n    const paddingTop = 80;\r\n    const width = window.innerWidth * 0.8;\r\n    const scale = targetWidth / width;\r\n    // 两个圆心的横坐标距离和纵坐标距离\r\n    const x = -(window.innerWidth / 2 - paddingLeft);\r\n    const y = window.innerHeight - paddingTop - width / 2 - paddingBottom;\r\n    return {\r\n      x,\r\n      y,\r\n      scale\r\n    };\r\n  };\r\n  const enter = () => {\r\n    normalPlayerRef.current.style.display = \"block\";\r\n    const { x, y, scale } = _getPosAndScale();//获取miniPlayer图片中心相对normalPlayer唱片中心的偏移\r\n    let animation = {\r\n      0: {\r\n        transform: `translate3d(${x}px,${y}px,0) scale(${scale})`\r\n      },\r\n      60: {\r\n        transform: `translate3d(0, 0, 0) scale(1.1)`\r\n      },\r\n      100: {\r\n        transform: `translate3d(0, 0, 0) scale(1)`\r\n      }\r\n    };\r\n    animations.registerAnimation({\r\n      name: \"move\",\r\n      animation,\r\n      presets: {\r\n        duration: 400,\r\n        easing: \"linear\"\r\n      }\r\n    });\r\n    animations.runAnimation(cdWrapperRef.current, \"move\");\r\n  };\r\n\r\n  const afterEnter = () => {\r\n    // 进入后解绑帧动画\r\n    const cdWrapperDom = cdWrapperRef.current;\r\n    animations.unregisterAnimation(\"move\");\r\n    cdWrapperDom.style.animation = \"\";\r\n  };\r\n\r\n  const leave = () => {\r\n    if (!cdWrapperRef.current) return;\r\n    const cdWrapperDom = cdWrapperRef.current;\r\n    cdWrapperDom.style.transition = \"all 0.4s\";\r\n    const { x, y, scale } = _getPosAndScale();\r\n    cdWrapperDom.style[transform] = `translate3d(${x}px, ${y}px, 0) scale(${scale})`;\r\n  };\r\n\r\n  const afterLeave = () => {\r\n    if (!cdWrapperRef.current) return;\r\n    const cdWrapperDom = cdWrapperRef.current;\r\n    cdWrapperDom.style.transition = \"\";\r\n    cdWrapperDom.style[transform] = \"\";\r\n    normalPlayerRef.current.style.display = \"none\";\r\n  };\r\n\r\n  const getPlayMode = () => {\r\n    let content;\r\n    if (mode === playMode.sequence) {\r\n      content = \"&#xe625;\";\r\n    } else if (mode === playMode.loop) {\r\n      content = \"&#xe653;\";\r\n    } else {\r\n      content = \"&#xe61b;\";\r\n    }\r\n    return content;\r\n  };\r\n\r\n  return (\r\n    <CSSTransition\r\n      classNames=\"normal\"\r\n      in={fullScreen}\r\n      timeout={400}\r\n      mountOnEnter\r\n      onEnter={enter}\r\n      onEntered={afterEnter}\r\n      onExit={leave}\r\n      onExited={afterLeave}\r\n    >\r\n      <NormalPlayerContainer ref={normalPlayerRef}>\r\n        <div className=\"background\">\r\n          <img\r\n            src={song.al.picUrl + \"?param=300x300\"}\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            alt=\"歌曲图片\"\r\n          />\r\n        </div>\r\n        <div className=\"background layer\"></div>\r\n        <Top className=\"top\">\r\n          <div className=\"back\"  onClick={() => toggleFullScreen(false)}>\r\n            <i className=\"iconfont icon-back\">&#xe662;</i>\r\n          </div>\r\n          <h1 className=\"title\">{song.name}</h1>\r\n          <h1 className=\"subtitle\">{getName(song.ar)}</h1>\r\n        </Top>\r\n        <Middle ref={cdWrapperRef}>\r\n          <CDWrapper>\r\n            <div className=\"cd\">\r\n            <img\r\n              className={`image play ${playing ? \"\" : \"pause\"}`}\r\n              src={song.al.picUrl + \"?param=400x400\"}\r\n              alt=\"\"\r\n            />\r\n            </div>\r\n          </CDWrapper>\r\n        </Middle>\r\n        <Bottom className=\"bottom\">\r\n          <ProgressWrapper>\r\n            <span className=\"time time-l\">{formatPlayTime(currentTime)}</span>\r\n            <div className=\"progress-bar-wrapper\">\r\n              <ProgressBar\r\n                percent={percent}\r\n                percentChange={onProgressChange}\r\n              ></ProgressBar>\r\n            </div>\r\n            <div className=\"time time-r\">{formatPlayTime(duration)}</div>\r\n          </ProgressWrapper>\r\n          <Operators>\r\n            <div className=\"icon i-left\" onClick={changeMode}>\r\n              <i\r\n                className=\"iconfont\"\r\n                dangerouslySetInnerHTML={{ __html: getPlayMode() }}\r\n              ></i>\r\n            </div>\r\n            <div className=\"icon i-left\" onClick={handlePrev}>\r\n              <i className=\"iconfont\">&#xe6e1;</i>\r\n            </div>\r\n            <div className=\"icon i-center\">\r\n              <i\r\n                className=\"iconfont\"\r\n                onClick={e => clickPlaying(e, !playing)}\r\n                dangerouslySetInnerHTML={{\r\n                  __html: playing ? \"&#xe723;\" : \"&#xe731;\"\r\n                }}\r\n              ></i>\r\n            </div>\r\n            <div className=\"icon i-right\" onClick={handleNext}>\r\n              <i className=\"iconfont\">&#xe718;</i>\r\n            </div>\r\n            <div className=\"icon i-right\">\r\n              <i className=\"iconfont\">&#xe640;</i>\r\n            </div>\r\n          </Operators>\r\n        </Bottom>\r\n      </NormalPlayerContainer>\r\n    </CSSTransition>\r\n  );\r\n}\r\n\r\nexport default React.memo(NormalPlayer);"]},"metadata":{},"sourceType":"module"}