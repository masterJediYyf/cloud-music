{"ast":null,"code":"import React,{useRef}from'react';import{getName}from'../../../api/utils';import{MiniPlayerContainer}from'./style';import{CSSTransition}from'react-transition-group';import ProgressCircle from'../../../baseUI/progress-circle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MiniPlayer(props){var song=props.song,fullScreen=props.fullScreen,playing=props.playing,percent=props.percent;var toggleFullScreen=props.toggleFullScreen,clickPlaying=props.clickPlaying;var miniPlayerRef=useRef();return/*#__PURE__*/_jsx(CSSTransition,{in:!fullScreen,timeout:400,classNames:\"mini\",onEnter:function onEnter(){miniPlayerRef.current.style.display=\"flex\";},onExited:function onExited(){miniPlayerRef.current.style.display=\"none\";},children:/*#__PURE__*/_jsxs(MiniPlayerContainer,{ref:miniPlayerRef,onClick:function onClick(){return toggleFullScreen(true);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"div\",{className:\"imgWrapper\",children:/*#__PURE__*/_jsx(\"img\",{className:\"play \".concat(playing?\"\":\"pause\"),src:song.al.picUrl,width:\"40\",height:\"40\",alt:\"img\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"name\",children:song.name}),/*#__PURE__*/_jsx(\"p\",{className:\"desc\",children:getName(song.ar)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(ProgressCircle,{radius:32,percent:percent,children:playing?/*#__PURE__*/_jsx(\"i\",{className:\"icon-mini iconfont icon-pause\",onClick:function onClick(e){return clickPlaying(e,false);},children:\"\\uE650\"}):/*#__PURE__*/_jsx(\"i\",{className:\"icon-mini iconfont icon-play\",onClick:function onClick(e){return clickPlaying(e,true);},children:\"\\uE61E\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"control\",children:/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE640\"})})]})});}export default/*#__PURE__*/React.memo(MiniPlayer);","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Player/miniPlayer/index.js"],"names":["React","useRef","getName","MiniPlayerContainer","CSSTransition","ProgressCircle","MiniPlayer","props","song","fullScreen","playing","percent","toggleFullScreen","clickPlaying","miniPlayerRef","current","style","display","al","picUrl","name","ar","e","memo"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,MAAf,KAA4B,OAA5B,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,OAASC,mBAAT,KAAoC,SAApC,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,MAAOC,CAAAA,cAAP,KAA2B,iCAA3B,C,wFAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,IACjBC,CAAAA,IADiB,CACsBD,KADtB,CACjBC,IADiB,CACXC,UADW,CACsBF,KADtB,CACXE,UADW,CACCC,OADD,CACsBH,KADtB,CACCG,OADD,CACUC,OADV,CACsBJ,KADtB,CACUI,OADV,IAGjBC,CAAAA,gBAHiB,CAGmBL,KAHnB,CAGjBK,gBAHiB,CAGCC,YAHD,CAGmBN,KAHnB,CAGCM,YAHD,CAKzB,GAAMC,CAAAA,aAAa,CAAGb,MAAM,EAA5B,CAEA,mBACE,KAAC,aAAD,EACE,EAAE,CAAE,CAACQ,UADP,CAEE,OAAO,CAAE,GAFX,CAGE,UAAU,CAAC,MAHb,CAIE,OAAO,CAAE,kBAAM,CACbK,aAAa,CAACC,OAAd,CAAsBC,KAAtB,CAA4BC,OAA5B,CAAsC,MAAtC,CACD,CANH,CAOE,QAAQ,CAAE,mBAAM,CACdH,aAAa,CAACC,OAAd,CAAsBC,KAAtB,CAA4BC,OAA5B,CAAsC,MAAtC,CACD,CATH,uBAWE,MAAC,mBAAD,EAAqB,GAAG,CAAEH,aAA1B,CAAyC,OAAO,CAAE,yBAAMF,CAAAA,gBAAgB,CAAC,IAAD,CAAtB,EAAlD,wBACE,YAAK,SAAS,CAAC,MAAf,uBACE,YAAK,SAAS,CAAC,YAAf,uBACE,YAAK,SAAS,gBAAUF,OAAO,CAAG,EAAH,CAAO,OAAxB,CAAd,CAAiD,GAAG,CAAEF,IAAI,CAACU,EAAL,CAAQC,MAA9D,CAAsE,KAAK,CAAC,IAA5E,CAAiF,MAAM,CAAC,IAAxF,CAA6F,GAAG,CAAC,KAAjG,EADF,EADF,EADF,cAME,aAAK,SAAS,CAAC,MAAf,wBACE,WAAI,SAAS,CAAC,MAAd,UAAsBX,IAAI,CAACY,IAA3B,EADF,cAEE,UAAG,SAAS,CAAC,MAAb,UAAqBlB,OAAO,CAACM,IAAI,CAACa,EAAN,CAA5B,EAFF,GANF,cAUE,YAAK,SAAS,CAAC,SAAf,uBACA,KAAC,cAAD,EAAgB,MAAM,CAAE,EAAxB,CAA4B,OAAO,CAAEV,OAArC,UACID,OAAO,cACP,UAAG,SAAS,CAAC,+BAAb,CAA6C,OAAO,CAAE,iBAAAY,CAAC,QAAIT,CAAAA,YAAY,CAACS,CAAD,CAAI,KAAJ,CAAhB,EAAvD,oBADO,cAGP,UAAG,SAAS,CAAC,8BAAb,CAA4C,OAAO,CAAE,iBAAAA,CAAC,QAAIT,CAAAA,YAAY,CAACS,CAAD,CAAI,IAAJ,CAAhB,EAAtD,oBAJJ,EADA,EAVF,cAmBE,YAAK,SAAS,CAAC,SAAf,uBACE,UAAG,SAAS,CAAC,UAAb,oBADF,EAnBF,GAXF,EADF,CAqCD,CAED,2BAAetB,KAAK,CAACuB,IAAN,CAAWjB,UAAX,CAAf","sourcesContent":["import React, {useRef} from 'react';\r\nimport { getName } from '../../../api/utils';\r\nimport { MiniPlayerContainer } from './style';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport ProgressCircle from '../../../baseUI/progress-circle';\r\n\r\nfunction MiniPlayer(props) {\r\n  const { song, fullScreen, playing, percent } = props;\r\n\r\n  const { toggleFullScreen, clickPlaying } =  props;\r\n\r\n  const miniPlayerRef = useRef();\r\n\r\n  return (\r\n    <CSSTransition \r\n      in={!fullScreen} \r\n      timeout={400} \r\n      classNames=\"mini\" \r\n      onEnter={() => {\r\n        miniPlayerRef.current.style.display = \"flex\";\r\n      }}\r\n      onExited={() => {\r\n        miniPlayerRef.current.style.display = \"none\";\r\n      }}\r\n    >\r\n      <MiniPlayerContainer ref={miniPlayerRef} onClick={() => toggleFullScreen(true)}>\r\n        <div className=\"icon\">\r\n          <div className=\"imgWrapper\">\r\n            <img className={`play ${playing ? \"\": \"pause\"}`} src={song.al.picUrl} width=\"40\" height=\"40\" alt=\"img\"/>\r\n          </div>\r\n        </div>\r\n        <div className=\"text\">\r\n          <h2 className=\"name\">{song.name}</h2>\r\n          <p className=\"desc\">{getName(song.ar)}</p>\r\n        </div>\r\n        <div className=\"control\">\r\n        <ProgressCircle radius={32} percent={percent}>\r\n          { playing ? \r\n            <i className=\"icon-mini iconfont icon-pause\" onClick={e => clickPlaying(e, false)}>&#xe650;</i>\r\n            :\r\n            <i className=\"icon-mini iconfont icon-play\" onClick={e => clickPlaying(e, true)}>&#xe61e;</i> \r\n          }\r\n        </ProgressCircle>\r\n        </div>\r\n        <div className=\"control\">\r\n          <i className=\"iconfont\">&#xe640;</i>\r\n        </div>\r\n      </MiniPlayerContainer>\r\n    </CSSTransition>\r\n  )\r\n}\r\n\r\nexport default React.memo(MiniPlayer);"]},"metadata":{},"sourceType":"module"}