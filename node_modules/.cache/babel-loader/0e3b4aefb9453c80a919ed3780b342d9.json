{"ast":null,"code":"import { getHotSingerListRequest, getSingerListRequest } from \"../../../api/request\";\nimport { CHANGE_SINGER_LIST, CHANGE_CATOGORY, CHANGE_ALPHA, CHANGE_PAGE_COUNT, CHANGE_PULLUP_LOADING, CHANGE_PULLDOWN_LOADING, CHANGE_ENTER_LOADING } from './constants';\nimport { fromJS } from 'immutable';\nexport const changeCategory = data => ({\n  type: CHANGE_CATOGORY,\n  data\n});\nexport const changeAlpha = data => ({\n  type: CHANGE_ALPHA,\n  data\n});\n\nconst changeSingerList = data => ({\n  type: CHANGE_SINGER_LIST,\n  data: fromJS(data)\n});\n\nexport const changePageCount = data => ({\n  type: CHANGE_PAGE_COUNT,\n  data\n}); //进场loading\n\nexport const changeEnterLoading = data => ({\n  type: CHANGE_ENTER_LOADING,\n  data\n}); //滑动最底部loading\n\nexport const changePullUpLoading = data => ({\n  type: CHANGE_PULLUP_LOADING,\n  data\n}); //顶部下拉刷新loading\n\nexport const changePullDownLoading = data => ({\n  type: CHANGE_PULLDOWN_LOADING,\n  data\n});\nexport const getHotSingerList = () => {\n  return dispatch => {\n    getHotSingerListRequest(0).then(res => {\n      const data = res.artists;\n      dispatch(changeSingerList(data));\n      dispatch(changeEnterLoading(false));\n      dispatch(changePullDownLoading(false));\n    }).catch(() => {\n      console.log('热门歌手数据获取失败');\n    });\n  };\n};\nexport const refreshMoreHotSingerList = () => {\n  return (dispatch, getState) => {\n    const pageCount = getState().getIn(['singers', 'pageCount']);\n    const singerList = getState().getIn(['singers', 'singerList']).toJS();\n    getHotSingerListRequest(pageCount).then(res => {\n      const data = [...singerList, ...res.artists];\n      dispatch(changeSingerList(data));\n      dispatch(changePullUpLoading(false));\n    }).catch(() => {\n      console.log('热门歌手数据获取失败');\n    });\n  };\n};\nexport const getSingerList = (category, alpha) => {\n  return (dispatch, getState) => {\n    getSingerListRequest(category, alpha, 0).then(res => {\n      const data = res.artists;\n      dispatch(changeSingerList(data));\n      dispatch(changeEnterLoading(false));\n      dispatch(changePullDownLoading(false));\n    }).catch(() => {\n      console.log('歌手数据获取失败');\n    });\n  };\n};\nexport const refreshMoreSingerList = (category, alpha) => {\n  return (dispatch, getState) => {\n    const pageCount = getState().getIn(['singers', 'pageCount']);\n    const singerList = getState().getIn(['singers', 'singerList']).toJS();\n    getSingerListRequest(category, alpha, pageCount).then(res => {\n      const data = [...singerList, ...res.artists];\n      dispatch(changeSingerList(data));\n      dispatch(changePullUpLoading(false));\n    }).catch(() => {\n      console.log('歌手数据获取失败');\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Singers/store/actionCreators.js"],"names":["getHotSingerListRequest","getSingerListRequest","CHANGE_SINGER_LIST","CHANGE_CATOGORY","CHANGE_ALPHA","CHANGE_PAGE_COUNT","CHANGE_PULLUP_LOADING","CHANGE_PULLDOWN_LOADING","CHANGE_ENTER_LOADING","fromJS","changeCategory","data","type","changeAlpha","changeSingerList","changePageCount","changeEnterLoading","changePullUpLoading","changePullDownLoading","getHotSingerList","dispatch","then","res","artists","catch","console","log","refreshMoreHotSingerList","getState","pageCount","getIn","singerList","toJS","getSingerList","category","alpha","refreshMoreSingerList"],"mappings":"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","sourcesContent":["import {\r\n  getHotSingerListRequest,\r\n  getSingerListRequest\r\n} from \"../../../api/request\";\r\nimport {\r\n  CHANGE_SINGER_LIST,\r\n  CHANGE_CATOGORY,\r\n  CHANGE_ALPHA,\r\n  CHANGE_PAGE_COUNT,\r\n  CHANGE_PULLUP_LOADING,\r\n  CHANGE_PULLDOWN_LOADING,\r\n  CHANGE_ENTER_LOADING\r\n} from './constants';\r\nimport {\r\n  fromJS\r\n} from 'immutable';\r\n\r\nexport const changeCategory = (data) => ({\r\n  type: CHANGE_CATOGORY,\r\n  data\r\n});\r\n\r\nexport const changeAlpha = (data) => ({\r\n  type: CHANGE_ALPHA,\r\n  data\r\n});\r\n\r\nconst changeSingerList = (data) => ({\r\n  type: CHANGE_SINGER_LIST,\r\n  data: fromJS(data)\r\n});\r\n\r\nexport const changePageCount = (data) => ({\r\n  type: CHANGE_PAGE_COUNT,\r\n  data\r\n});\r\n\r\n//进场loading\r\nexport const changeEnterLoading = (data) => ({\r\n  type: CHANGE_ENTER_LOADING,\r\n  data\r\n});\r\n\r\n//滑动最底部loading\r\nexport const changePullUpLoading = (data) => ({\r\n  type: CHANGE_PULLUP_LOADING,\r\n  data\r\n});\r\n\r\n//顶部下拉刷新loading\r\nexport const changePullDownLoading = (data) => ({\r\n  type: CHANGE_PULLDOWN_LOADING,\r\n  data\r\n});\r\n\r\n\r\nexport const getHotSingerList = () => {\r\n  return (dispatch) => {\r\n    getHotSingerListRequest(0).then(res => {\r\n      const data = res.artists;\r\n      dispatch(changeSingerList(data));\r\n      dispatch(changeEnterLoading(false));\r\n      dispatch(changePullDownLoading(false));\r\n    }).catch(() => {\r\n      console.log('热门歌手数据获取失败');\r\n    })\r\n  }\r\n};\r\nexport const refreshMoreHotSingerList = () => {\r\n  return (dispatch, getState) => {\r\n    const pageCount = getState().getIn(['singers', 'pageCount']);\r\n    const singerList = getState().getIn(['singers', 'singerList']).toJS();\r\n    getHotSingerListRequest(pageCount).then(res => {\r\n      const data = [...singerList, ...res.artists];\r\n      dispatch(changeSingerList(data));\r\n      dispatch(changePullUpLoading(false));\r\n    }).catch(() => {\r\n      console.log('热门歌手数据获取失败');\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getSingerList = (category, alpha) => {\r\n  return (dispatch, getState) => {\r\n    getSingerListRequest(category, alpha, 0).then(res => {\r\n      const data = res.artists;\r\n      dispatch(changeSingerList(data));\r\n      dispatch(changeEnterLoading(false));\r\n      dispatch(changePullDownLoading(false));\r\n    }).catch(() => {\r\n      console.log('歌手数据获取失败');\r\n    });\r\n  }\r\n};\r\n\r\nexport const refreshMoreSingerList = (category, alpha) => {\r\n  return (dispatch, getState) => {\r\n    const pageCount = getState().getIn(['singers', 'pageCount']);\r\n    const singerList = getState().getIn(['singers', 'singerList']).toJS();\r\n    getSingerListRequest(category, alpha, pageCount).then(res => {\r\n      const data = [...singerList, ...res.artists];\r\n      dispatch(changeSingerList(data));\r\n      dispatch(changePullUpLoading(false));\r\n    }).catch(() => {\r\n      console.log('歌手数据获取失败');\r\n    });\r\n  }\r\n};"]},"metadata":{},"sourceType":"module"}