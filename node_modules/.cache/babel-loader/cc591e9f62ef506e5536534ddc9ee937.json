{"ast":null,"code":"// redux 层开发\nimport{fromJS}from'immutable';import{getRankListRequest}from'../../../api/request';//constants\nexport var CHANGE_RANK_LIST='home/rank/CHANGE_RANK_LIST';export var CHANGE_LOADING='home/rank/CHANGE_LOADING';//actionCreator\nvar changeRankList=function changeRankList(data){return{type:CHANGE_RANK_LIST,data:fromJS(data)};};var changeLoading=function changeLoading(data){return{type:CHANGE_LOADING,data:data};};export var getRankList=function getRankList(){return function(dispatch){getRankListRequest().then(function(data){var list=data&&data.list;dispatch(changeRankList(list));dispatch(changeLoading(false));});};};//reducer \nvar defaultState=fromJS({rankList:[],loading:true});var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case CHANGE_RANK_LIST:return state.set('rankList',action.data);case CHANGE_LOADING:return state.set('loading',action.data);default:return state;}};export{reducer};","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Rank/store/index.js"],"names":["fromJS","getRankListRequest","CHANGE_RANK_LIST","CHANGE_LOADING","changeRankList","data","type","changeLoading","getRankList","dispatch","then","list","defaultState","rankList","loading","reducer","state","action","set"],"mappings":"AAAA;AACA,OAAQA,MAAR,KAAqB,WAArB,CACA,OAAQC,kBAAR,KAAiC,sBAAjC,CAEA;AACA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,4BAAzB,CACP,MAAO,IAAMC,CAAAA,cAAc,CAAG,0BAAvB,CAEP;AACA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,IAAD,QAAW,CAC9BC,IAAI,CAACJ,gBADyB,CAE9BG,IAAI,CAACL,MAAM,CAACK,IAAD,CAFmB,CAAX,EAAvB,CAKA,GAAME,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACF,IAAD,QAAW,CAC7BC,IAAI,CAAEH,cADuB,CAE7BE,IAAI,CAAJA,IAF6B,CAAX,EAAtB,CAKA,MAAO,IAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CAC7B,MAAO,UAAAC,QAAQ,CAAI,CACfR,kBAAkB,GACbS,IADL,CACU,SAAAL,IAAI,CAAI,CACV,GAAIM,CAAAA,IAAI,CAAEN,IAAI,EAAIA,IAAI,CAACM,IAAvB,CACAF,QAAQ,CAACL,cAAc,CAACO,IAAD,CAAf,CAAR,CACAF,QAAQ,CAACF,aAAa,CAAC,KAAD,CAAd,CAAR,CACH,CALL,EAMH,CAPD,CAQH,CATM,CAWP;AACA,GAAMK,CAAAA,YAAY,CAAGZ,MAAM,CAAC,CACxBa,QAAQ,CAAC,EADe,CAExBC,OAAO,CAAC,IAFgB,CAAD,CAA3B,CAKA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAiC,IAAhCC,CAAAA,KAAgC,2DAAxBJ,YAAwB,IAAXK,CAAAA,MAAW,2CAC7C,OAAOA,MAAM,CAACX,IAAd,EACI,IAAKJ,CAAAA,gBAAL,CACI,MAAOc,CAAAA,KAAK,CAACE,GAAN,CAAU,UAAV,CAAqBD,MAAM,CAACZ,IAA5B,CAAP,CACJ,IAAKF,CAAAA,cAAL,CACI,MAAOa,CAAAA,KAAK,CAACE,GAAN,CAAU,SAAV,CAAoBD,MAAM,CAACZ,IAA3B,CAAP,CACJ,QACI,MAAOW,CAAAA,KAAP,CANR,CAQH,CATD,CAWA,OAAQD,OAAR","sourcesContent":["// redux 层开发\r\nimport {fromJS} from 'immutable';\r\nimport {getRankListRequest} from '../../../api/request';\r\n\r\n//constants\r\nexport const CHANGE_RANK_LIST = 'home/rank/CHANGE_RANK_LIST';\r\nexport const CHANGE_LOADING = 'home/rank/CHANGE_LOADING';\r\n\r\n//actionCreator\r\nconst changeRankList = (data) => ({\r\n    type:CHANGE_RANK_LIST,\r\n    data:fromJS(data)\r\n})\r\n\r\nconst changeLoading = (data) => ({\r\n    type: CHANGE_LOADING,\r\n    data\r\n})\r\n\r\nexport const getRankList = () => {\r\n    return dispatch => {\r\n        getRankListRequest()\r\n            .then(data => {\r\n                let list =data && data.list;\r\n                dispatch(changeRankList(list));\r\n                dispatch(changeLoading(false))\r\n            })\r\n    }\r\n}\r\n\r\n//reducer \r\nconst defaultState = fromJS({\r\n    rankList:[],\r\n    loading:true\r\n})\r\n\r\nconst reducer = (state = defaultState,action) => {\r\n    switch(action.type){\r\n        case CHANGE_RANK_LIST:\r\n            return state.set('rankList',action.data);\r\n        case CHANGE_LOADING:\r\n            return state.set('loading',action.data);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport {reducer};"]},"metadata":{},"sourceType":"module"}