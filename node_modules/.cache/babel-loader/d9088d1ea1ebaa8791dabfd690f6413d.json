{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\86136\\\\Desktop\\\\\\u5B66\\u4E60\\u8FDB\\u5EA6\\\\new_html\\\\fullstack_yyf\\\\react\\\\cloud-music\\\\src\\\\application\\\\SongList\\\\index.js\";\nimport React from 'react';\nimport { SongList, SongItem } from \"./style\";\nimport { getName } from '../../api/utils';\nimport { changePlayList, changeCurrentIndex, changeSequecePlayList } from './../../application/Player/store/actionCreators';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SongsList = /*#__PURE__*/React.forwardRef(_c = (props, refs) => {\n  const {\n    collectCount,\n    showCollect,\n    songs\n  } = props; // 接受触发动画的函数\n\n  const {\n    musicAnimation\n  } = props;\n  const {\n    changePlayListDispatch,\n    changeCurrentIndexDispatch,\n    changeSequecePlayListDispatch\n  } = props;\n  const totalCount = songs.length;\n\n  const selectItem = (e, index) => {\n    changePlayListDispatch(songs);\n    changeSequecePlayListDispatch(songs);\n    changeCurrentIndexDispatch(index);\n    musicAnimation(e.nativeEvent.clientX, e.nativeEvent.clientY);\n  };\n\n  let songList = list => {\n    let res = [];\n\n    for (let i = 0; i < list.length; i++) {\n      let item = list[i];\n      res.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: e => selectItem(e, i),\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"index\",\n          children: i + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [item.ar ? getName(item.ar) : getName(item.artists), \" - \", item.al ? item.al.name : item.album.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this));\n    }\n\n    return res;\n  };\n\n  const collect = count => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add_list\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"iconfont\",\n        children: \"\\uE62D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u6536\\u85CF(\", Math.floor(count / 1000) / 10, \"\\u4E07)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(SongList, {\n    ref: refs,\n    showBackground: props.showBackground,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"first_line\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"play_all\",\n        onClick: e => selectItem(e, 0),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"iconfont\",\n          children: \"\\uE6E3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u64AD\\u653E\\u5168\\u90E8 \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"sum\",\n            children: [\"(\\u5171\", totalCount, \"\\u9996)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), showCollect ? collect(collectCount) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SongItem, {\n      children: songList(songs)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}); // 映射dispatch到props上\n\n_c2 = SongsList;\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changePlayListDispatch(data) {\n      dispatch(changePlayList(data));\n    },\n\n    changeCurrentIndexDispatch(data) {\n      dispatch(changeCurrentIndex(data));\n    },\n\n    changeSequecePlayListDispatch(data) {\n      dispatch(changeSequecePlayList(data));\n    }\n\n  };\n}; // 将ui组件包装成容器组件\n\n\nexport default connect(null, mapDispatchToProps)( /*#__PURE__*/React.memo(SongsList));\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SongsList$React.forwardRef\");\n$RefreshReg$(_c2, \"SongsList\");","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/SongList/index.js"],"names":["React","SongList","SongItem","getName","changePlayList","changeCurrentIndex","changeSequecePlayList","connect","SongsList","forwardRef","props","refs","collectCount","showCollect","songs","musicAnimation","changePlayListDispatch","changeCurrentIndexDispatch","changeSequecePlayListDispatch","totalCount","length","selectItem","e","index","nativeEvent","clientX","clientY","songList","list","res","i","item","push","name","ar","artists","al","album","id","collect","count","Math","floor","showBackground","mapDispatchToProps","dispatch","data","memo"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { SongList, SongItem } from \"./style\";\r\nimport { getName } from '../../api/utils';\r\nimport { changePlayList, changeCurrentIndex, changeSequecePlayList } from './../../application/Player/store/actionCreators';\r\nimport { connect } from 'react-redux';\r\n\r\nconst SongsList = React.forwardRef((props, refs)=> {\r\n\r\n  const { collectCount, showCollect, songs } = props;\r\n\r\n  // 接受触发动画的函数\r\n  const { musicAnimation } = props;\r\n\r\n  const { changePlayListDispatch, changeCurrentIndexDispatch, changeSequecePlayListDispatch } = props;\r\n\r\n  const totalCount = songs.length;\r\n\r\n  const selectItem = (e, index) => {\r\n    changePlayListDispatch(songs);\r\n    changeSequecePlayListDispatch(songs);\r\n    changeCurrentIndexDispatch(index);\r\n    musicAnimation(e.nativeEvent.clientX, e.nativeEvent.clientY);\r\n  }\r\n\r\n  let songList = (list) => {\r\n    let res = [];\r\n    for(let i = 0; i < list.length; i++) {\r\n      let item = list[i];\r\n      res.push(\r\n        <li key={item.id} onClick={(e) => selectItem(e, i)}>\r\n          <span className=\"index\">{i + 1}</span>\r\n          <div className=\"info\">\r\n            <span>{item.name}</span>\r\n            <span>\r\n              { item.ar ? getName(item.ar): getName(item.artists) } - { item.al ? item.al.name : item.album.name}\r\n            </span>\r\n          </div>\r\n        </li>\r\n      )\r\n    }\r\n    return res;\r\n  };\r\n\r\n  const collect = (count) => {\r\n    return  (\r\n      <div className=\"add_list\">\r\n        <i className=\"iconfont\">&#xe62d;</i>\r\n        <span>收藏({Math.floor(count/1000)/10}万)</span>\r\n      </div>\r\n    )\r\n  };\r\n  return (\r\n    <SongList ref={refs} showBackground={props.showBackground}>\r\n      <div className=\"first_line\">\r\n        <div className=\"play_all\" onClick={(e) => selectItem(e, 0)}>\r\n          <i className=\"iconfont\">&#xe6e3;</i>\r\n          <span>播放全部 <span className=\"sum\">(共{totalCount}首)</span></span>\r\n        </div>\r\n        { showCollect ? collect(collectCount) : null}\r\n      </div>\r\n      <SongItem>\r\n        { songList(songs) }\r\n      </SongItem>\r\n    </SongList>\r\n  )\r\n});\r\n\r\n// 映射dispatch到props上\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changePlayListDispatch(data){\r\n      dispatch(changePlayList(data));\r\n    },\r\n    changeCurrentIndexDispatch(data) {\r\n      dispatch(changeCurrentIndex(data));\r\n    },\r\n    changeSequecePlayListDispatch(data) {\r\n      dispatch(changeSequecePlayList(data))\r\n    }\r\n  }\r\n};\r\n\r\n// 将ui组件包装成容器组件\r\nexport default connect(null, mapDispatchToProps)(React.memo(SongsList));"]},"metadata":{},"sourceType":"module"}