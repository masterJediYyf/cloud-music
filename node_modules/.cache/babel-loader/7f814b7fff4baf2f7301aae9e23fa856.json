{"ast":null,"code":"import { fromJS } from 'immutable';\nimport { getRankListRequest } from '../../../api/request'; //constants\n\nexport const CHANGE_RANK_LIST = 'home/rank/CHANGE_RANK_LIST';\nexport const CHANGE_LOADING = 'home/rank/CHANGE_LOADING'; //actionCrreator\n\nconst changeRankList = data => ({\n  type: CHANGE_RANK_LIST,\n  data: fromJS(data)\n});\n\nexport const getRankList = () => {\n  return dispatch => {\n    getRankListRequest().then(data => {\n      let list = data && data.list;\n      dispatch(changeRankList(list));\n      dispatch(changeLoading(false));\n    });\n  };\n};\n\nconst changeLoading = data => ({\n  type: CHANGE_LOADING,\n  data\n}); //reducer\n\n\nconst defaultState = fromJS({\n  rankList: [],\n  loading: true\n});\n\nconst reducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case CHANGE_RANK_LIST:\n      return state.set('rankList', action.data);\n\n    case CHANGE_LOADING:\n      return state.set('loading', action.data);\n\n    default:\n      return state;\n  }\n};\n\nexport { reducer };","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Rank/store/index.js"],"names":["fromJS","getRankListRequest","CHANGE_RANK_LIST","CHANGE_LOADING","changeRankList","data","type","getRankList","dispatch","then","list","changeLoading","defaultState","rankList","loading","reducer","state","action","set"],"mappings":"AAAA,SAASA,MAAT,QAAuB,WAAvB;AACA,SAASC,kBAAT,QAAmC,sBAAnC,C,CAEA;;AACA,OAAO,MAAMC,gBAAgB,GAAG,4BAAzB;AACP,OAAO,MAAMC,cAAc,GAAG,0BAAvB,C,CAEP;;AACA,MAAMC,cAAc,GAAIC,IAAD,KAAW;AAChCC,EAAAA,IAAI,EAAEJ,gBAD0B;AAEhCG,EAAAA,IAAI,EAAEL,MAAM,CAACK,IAAD;AAFoB,CAAX,CAAvB;;AAKA,OAAO,MAAME,WAAW,GAAG,MAAM;AAC/B,SAAOC,QAAQ,IAAI;AACjBP,IAAAA,kBAAkB,GAAGQ,IAArB,CAA0BJ,IAAI,IAAI;AAChC,UAAIK,IAAI,GAAGL,IAAI,IAAIA,IAAI,CAACK,IAAxB;AACAF,MAAAA,QAAQ,CAACJ,cAAc,CAACM,IAAD,CAAf,CAAR;AACAF,MAAAA,QAAQ,CAACG,aAAa,CAAC,KAAD,CAAd,CAAR;AACD,KAJD;AAKD,GAND;AAOD,CARM;;AAUP,MAAMA,aAAa,GAAIN,IAAD,KAAW;AAC/BC,EAAAA,IAAI,EAAEH,cADyB;AAE/BE,EAAAA;AAF+B,CAAX,CAAtB,C,CAKA;;;AACA,MAAMO,YAAY,GAAGZ,MAAM,CAAC;AAC1Ba,EAAAA,QAAQ,EAAE,EADgB;AAE1BC,EAAAA,OAAO,EAAE;AAFiB,CAAD,CAA3B;;AAKA,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGJ,YAAT,EAAuBK,MAAvB,KAAkC;AAChD,UAAOA,MAAM,CAACX,IAAd;AACE,SAAKJ,gBAAL;AACE,aAAOc,KAAK,CAACE,GAAN,CAAU,UAAV,EAAsBD,MAAM,CAACZ,IAA7B,CAAP;;AACF,SAAKF,cAAL;AACE,aAAOa,KAAK,CAACE,GAAN,CAAU,SAAV,EAAqBD,MAAM,CAACZ,IAA5B,CAAP;;AACF;AACE,aAAOW,KAAP;AANJ;AAQD,CATD;;AAWA,SAASD,OAAT","sourcesContent":["import { fromJS } from 'immutable';\r\nimport { getRankListRequest } from '../../../api/request';\r\n\r\n//constants\r\nexport const CHANGE_RANK_LIST = 'home/rank/CHANGE_RANK_LIST';\r\nexport const CHANGE_LOADING = 'home/rank/CHANGE_LOADING';\r\n\r\n//actionCrreator\r\nconst changeRankList = (data) => ({\r\n  type: CHANGE_RANK_LIST,\r\n  data: fromJS(data)\r\n})\r\n\r\nexport const getRankList = () => {\r\n  return dispatch => {\r\n    getRankListRequest().then(data => {\r\n      let list = data && data.list;\r\n      dispatch(changeRankList(list));\r\n      dispatch(changeLoading(false));\r\n    })\r\n  }\r\n}\r\n\r\nconst changeLoading = (data) => ({\r\n  type: CHANGE_LOADING,\r\n  data\r\n})\r\n\r\n//reducer\r\nconst defaultState = fromJS({\r\n  rankList: [],\r\n  loading: true\r\n})\r\n\r\nconst reducer = (state = defaultState, action) => {\r\n  switch(action.type) {\r\n    case CHANGE_RANK_LIST:\r\n      return state.set('rankList', action.data);\r\n    case CHANGE_LOADING:\r\n      return state.set('loading', action.data);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { reducer };"]},"metadata":{},"sourceType":"module"}