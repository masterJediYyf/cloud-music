{"ast":null,"code":"import _slicedToArray from\"C:/Users/86136/Desktop/\\u5B66\\u4E60\\u8FDB\\u5EA6/new_html/fullstack_yyf/react/cloud-music/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback,useRef,useEffect}from'react';import{Container,TopDesc,Menu,SongList,SongItem}from'./style';import{CSSTransition}from'react-transition-group';import Header from'./../../baseUI/header/index';import Scroll from'../../baseUI/scroll/index';import{getCount,isEmptyObject}from'../../api/utils';import{getName}from'./../../api/utils';import{HEADER_HEIGHT}from'./../../api/config';import style from\"../../assets/global-style\";import{connect}from'react-redux';import{getAlbumList,changeEnterLoading}from'./store/actionCreators';import Loading from'../../baseUI/loading/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Album(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showStatus=_useState2[0],setShowStatus=_useState2[1];var _useState3=useState(\"歌单\"),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isMarquee=_useState6[0],setIsMarquee=_useState6[1];//是否跑马灯\nvar headerEl=useRef();var currentAlbumImmutable=props.currentAlbum,enterLoading=props.enterLoading;var getAlbumDataDispatch=props.getAlbumDataDispatch;var id=props.match.params.id;useEffect(function(){getAlbumDataDispatch(id);},[getAlbumDataDispatch,id]);var currentAlbum=currentAlbumImmutable.toJS();var handleBack=useCallback(function(){setShowStatus(false);},[]);var handleScroll=useCallback(function(pos){var minScrollY=-HEADER_HEIGHT;var percent=Math.abs(pos.y/minScrollY);var headerDom=headerEl.current;//滑过顶部的高度开始变化\nif(pos.y<minScrollY){headerDom.style.backgroundColor=style[\"theme-color\"];headerDom.style.opacity=Math.min(1,(percent-1)/2);setTitle(currentAlbum.name);setIsMarquee(true);}else{headerDom.style.backgroundColor=\"\";headerDom.style.opacity=1;setTitle(\"歌单\");setIsMarquee(false);}},[currentAlbum]);var renderTopDesc=function renderTopDesc(){return/*#__PURE__*/_jsxs(TopDesc,{background:currentAlbum.coverImgUrl,children:[/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:/*#__PURE__*/_jsx(\"div\",{className:\"filter\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"img_wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"decorate\"}),/*#__PURE__*/_jsx(\"img\",{src:currentAlbum.coverImgUrl,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"play_count\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont play\",children:\"\\uE885\"}),/*#__PURE__*/_jsx(\"span\",{className:\"count\",children:getCount(currentAlbum.subscribedCount)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"desc_wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:currentAlbum.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"person\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:/*#__PURE__*/_jsx(\"img\",{src:currentAlbum.creator.avatarUrl,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"name\",children:currentAlbum.creator.nickname})]})]})]});};var renderMenu=function renderMenu(){return/*#__PURE__*/_jsxs(Menu,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE6AD\"}),\"\\u8BC4\\u8BBA\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE86F\"}),\"\\u70B9\\u8D5E\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE62D\"}),\"\\u6536\\u85CF\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE606\"}),\"\\u66F4\\u591A\"]})]});};var renderSongList=function renderSongList(){return/*#__PURE__*/_jsxs(SongList,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"first_line\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"play_all\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE6E3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u64AD\\u653E\\u5168\\u90E8 \",/*#__PURE__*/_jsxs(\"span\",{className:\"sum\",children:[\"(\\u5171\",currentAlbum.tracks.length,\"\\u9996)\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"add_list\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE62D\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u6536\\u85CF(\",getCount(currentAlbum.subscribedCount),\")\"]})]})]}),/*#__PURE__*/_jsx(SongItem,{children:currentAlbum.tracks.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"index\",children:index+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[getName(item.ar),\" - \",item.al.name]})]})]},index);})})]});};return/*#__PURE__*/_jsx(CSSTransition,{in:showStatus,timeout:300,classNames:\"fly\",appear:true,unmountOnExit:true,onExited:props.history.goBack,children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{ref:headerEl,title:title,handleClick:handleBack,isMarquee:isMarquee}),!isEmptyObject(currentAlbum)?/*#__PURE__*/_jsx(Scroll,{bounceTop:false,onScroll:handleScroll,children:/*#__PURE__*/_jsxs(\"div\",{children:[renderTopDesc(),renderMenu(),renderSongList()]})}):null,enterLoading?/*#__PURE__*/_jsx(Loading,{}):null]})});}// 映射Redux全局的state到组件的props上\nvar mapStateToProps=function mapStateToProps(state){return{currentAlbum:state.getIn(['album','currentAlbum']),enterLoading:state.getIn(['album','enterLoading'])};};// 映射dispatch到props上\nvar mapDispatchToProps=function mapDispatchToProps(dispatch){return{getAlbumDataDispatch:function getAlbumDataDispatch(id){dispatch(changeEnterLoading(true));dispatch(getAlbumList(id));}};};// 将ui组件包装成容器组件\nexport default connect(mapStateToProps,mapDispatchToProps)(/*#__PURE__*/React.memo(Album));","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Album/index.js"],"names":["React","useState","useCallback","useRef","useEffect","Container","TopDesc","Menu","SongList","SongItem","CSSTransition","Header","Scroll","getCount","isEmptyObject","getName","HEADER_HEIGHT","style","connect","getAlbumList","changeEnterLoading","Loading","Album","props","showStatus","setShowStatus","title","setTitle","isMarquee","setIsMarquee","headerEl","currentAlbumImmutable","currentAlbum","enterLoading","getAlbumDataDispatch","id","match","params","toJS","handleBack","handleScroll","pos","minScrollY","percent","Math","abs","y","headerDom","current","backgroundColor","opacity","min","name","renderTopDesc","coverImgUrl","subscribedCount","creator","avatarUrl","nickname","renderMenu","renderSongList","tracks","length","map","item","index","ar","al","history","goBack","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","memo"],"mappings":"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","sourcesContent":["import React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport { Container, TopDesc, Menu, SongList, SongItem } from './style';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Header from './../../baseUI/header/index';\r\nimport Scroll from '../../baseUI/scroll/index';\r\nimport { getCount, isEmptyObject } from '../../api/utils';\r\nimport { getName } from './../../api/utils';\r\nimport { HEADER_HEIGHT } from './../../api/config';\r\nimport style from \"../../assets/global-style\";\r\nimport { connect } from 'react-redux';\r\nimport { getAlbumList, changeEnterLoading } from './store/actionCreators';\r\nimport Loading from '../../baseUI/loading/index';\r\n\r\nfunction Album(props) {\r\n  const [showStatus, setShowStatus] = useState(true);\r\n  const [title, setTitle] = useState(\"歌单\");\r\n  const [isMarquee, setIsMarquee] = useState(false);//是否跑马灯\r\n\r\n  const headerEl = useRef();\r\n\r\n  const { currentAlbum: currentAlbumImmutable, enterLoading } = props;\r\n  const { getAlbumDataDispatch } = props;\r\n\r\n  const id = props.match.params.id;\r\n\r\n  useEffect(() => {\r\n    getAlbumDataDispatch(id);\r\n  }, [getAlbumDataDispatch, id]);\r\n\r\n  let currentAlbum = currentAlbumImmutable.toJS();\r\n\r\n  const handleBack = useCallback(() => {\r\n    setShowStatus(false);\r\n  }, []);\r\n\r\n  const handleScroll = useCallback((pos) => {\r\n    let minScrollY = -HEADER_HEIGHT;\r\n    let percent = Math.abs(pos.y / minScrollY);\r\n    let headerDom = headerEl.current;\r\n    //滑过顶部的高度开始变化\r\n    if (pos.y < minScrollY) {\r\n      headerDom.style.backgroundColor = style[\"theme-color\"];\r\n      headerDom.style.opacity = Math.min(1, (percent - 1) / 2);\r\n      setTitle(currentAlbum.name);\r\n      setIsMarquee(true);\r\n    } else {\r\n      headerDom.style.backgroundColor = \"\";\r\n      headerDom.style.opacity = 1;\r\n      setTitle(\"歌单\");\r\n      setIsMarquee(false);\r\n    }\r\n  }, [currentAlbum]);\r\n\r\n  const renderTopDesc = () => {\r\n    return (\r\n      <TopDesc background={currentAlbum.coverImgUrl}>\r\n        <div className=\"background\">\r\n          <div className=\"filter\"></div>\r\n        </div>\r\n        <div className=\"img_wrapper\">\r\n          <div className=\"decorate\"></div>\r\n          <img src={currentAlbum.coverImgUrl} alt=\"\" />\r\n          <div className=\"play_count\">\r\n            <i className=\"iconfont play\">&#xe885;</i>\r\n            <span className=\"count\">{getCount(currentAlbum.subscribedCount)}</span>\r\n          </div>\r\n        </div>\r\n        <div className=\"desc_wrapper\">\r\n          <div className=\"title\">{currentAlbum.name}</div>\r\n          <div className=\"person\">\r\n            <div className=\"avatar\">\r\n              <img src={currentAlbum.creator.avatarUrl} alt=\"\" />\r\n            </div>\r\n            <div className=\"name\">{currentAlbum.creator.nickname}</div>\r\n          </div>\r\n        </div>\r\n      </TopDesc>\r\n    )\r\n  }\r\n\r\n  const renderMenu = () => {\r\n    return (\r\n      <Menu>\r\n        <div>\r\n          <i className=\"iconfont\">&#xe6ad;</i>\r\n          评论\r\n        </div>\r\n        <div>\r\n          <i className=\"iconfont\">&#xe86f;</i>\r\n          点赞\r\n        </div>\r\n        <div>\r\n          <i className=\"iconfont\">&#xe62d;</i>\r\n          收藏\r\n        </div>\r\n        <div>\r\n          <i className=\"iconfont\">&#xe606;</i>\r\n          更多\r\n        </div>\r\n      </Menu>\r\n    )\r\n  };\r\n\r\n  const renderSongList = () => {\r\n    return (\r\n      <SongList>\r\n        <div className=\"first_line\">\r\n          <div className=\"play_all\">\r\n            <i className=\"iconfont\">&#xe6e3;</i>\r\n            <span>播放全部 <span className=\"sum\">(共{currentAlbum.tracks.length}首)</span></span>\r\n          </div>\r\n          <div className=\"add_list\">\r\n            <i className=\"iconfont\">&#xe62d;</i>\r\n            <span>收藏({getCount(currentAlbum.subscribedCount)})</span>\r\n          </div>\r\n        </div>\r\n        <SongItem>\r\n          {\r\n            currentAlbum.tracks.map((item, index) => {\r\n              return (\r\n                <li key={index}>\r\n                  <span className=\"index\">{index + 1}</span>\r\n                  <div className=\"info\">\r\n                    <span>{item.name}</span>\r\n                    <span>\r\n                      {getName(item.ar)} - {item.al.name}\r\n                    </span>\r\n                  </div>\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n        </SongItem>\r\n      </SongList>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <CSSTransition\r\n      in={showStatus}\r\n      timeout={300}\r\n      classNames=\"fly\"\r\n      appear={true}\r\n      unmountOnExit\r\n      onExited={props.history.goBack}\r\n    >\r\n      <Container>\r\n        <Header ref={headerEl} title={title} handleClick={handleBack} isMarquee={isMarquee}></Header>\r\n        {!isEmptyObject(currentAlbum) ?\r\n          (\r\n            <Scroll\r\n              bounceTop={false}\r\n              onScroll={handleScroll}\r\n            >\r\n              <div>\r\n                { renderTopDesc() }\r\n                { renderMenu() }\r\n                { renderSongList() }\r\n              </div>\r\n            </Scroll>\r\n          )\r\n          : null\r\n        }\r\n        { enterLoading ? <Loading></Loading> : null}\r\n      </Container>\r\n    </CSSTransition>\r\n  )\r\n}\r\n\r\n// 映射Redux全局的state到组件的props上\r\nconst mapStateToProps = (state) => ({\r\n  currentAlbum: state.getIn(['album', 'currentAlbum']),\r\n  enterLoading: state.getIn(['album', 'enterLoading']),\r\n});\r\n// 映射dispatch到props上\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getAlbumDataDispatch(id) {\r\n      dispatch(changeEnterLoading(true));\r\n      dispatch(getAlbumList(id));\r\n    },\r\n  }\r\n};\r\n\r\n// 将ui组件包装成容器组件\r\nexport default connect(mapStateToProps, mapDispatchToProps)(React.memo(Album));"]},"metadata":{},"sourceType":"module"}