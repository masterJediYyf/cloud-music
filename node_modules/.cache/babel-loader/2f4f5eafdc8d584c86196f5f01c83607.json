{"ast":null,"code":"import { CHANGE_CURRENT_ALBUM, CHANGE_TOTAL_COUNT, CHANGE_PULLUP_LOADING, CHANGE_START_INDEX, CHANGE_ENTER_LOADING } from './constants';\nimport { getAlbumDetailRequest } from '../../../api/request';\nimport { fromJS } from 'immutable';\n\nconst changeCurrentAlbum = data => ({\n  type: CHANGE_CURRENT_ALBUM,\n  data: fromJS(data)\n});\n\nexport const changePullUpLoading = data => ({\n  type: CHANGE_PULLUP_LOADING,\n  data\n});\nexport const changeEnterLoading = data => ({\n  type: CHANGE_ENTER_LOADING,\n  data\n});\n\nconst changeTotalCount = data => ({\n  type: CHANGE_TOTAL_COUNT,\n  data\n});\n\nexport const changeStartIndex = data => ({\n  type: CHANGE_START_INDEX,\n  data\n});\nexport const getAlbumList = id => {\n  return dispatch => {\n    getAlbumDetailRequest(id).then(res => {\n      let data = res.playlist;\n      dispatch(changeCurrentAlbum(data));\n      dispatch(changeEnterLoading(false));\n      dispatch(changeStartIndex(0));\n      dispatch(changeTotalCount(data.tracks.length));\n    }).catch(() => {\n      console.log(\"获取album数据失败!\");\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/Album/store/actionCreators.js"],"names":["CHANGE_CURRENT_ALBUM","CHANGE_TOTAL_COUNT","CHANGE_PULLUP_LOADING","CHANGE_START_INDEX","CHANGE_ENTER_LOADING","getAlbumDetailRequest","fromJS","changeCurrentAlbum","data","type","changePullUpLoading","changeEnterLoading","changeTotalCount","changeStartIndex","getAlbumList","id","dispatch","then","res","playlist","tracks","length","catch","console","log"],"mappings":"AAAA,SAASA,oBAAT,EAA+BC,kBAA/B,EAAmDC,qBAAnD,EAA0EC,kBAA1E,EAA8FC,oBAA9F,QAA0H,aAA1H;AACA,SAASC,qBAAT,QAAsC,sBAAtC;AACA,SAASC,MAAT,QAAuB,WAAvB;;AAEA,MAAMC,kBAAkB,GAAIC,IAAD,KAAW;AACpCC,EAAAA,IAAI,EAAET,oBAD8B;AAEpCQ,EAAAA,IAAI,EAAEF,MAAM,CAACE,IAAD;AAFwB,CAAX,CAA3B;;AAKA,OAAO,MAAME,mBAAmB,GAAIF,IAAD,KAAW;AAC5CC,EAAAA,IAAI,EAAEP,qBADsC;AAE5CM,EAAAA;AAF4C,CAAX,CAA5B;AAIP,OAAO,MAAMG,kBAAkB,GAAIH,IAAD,KAAW;AAC3CC,EAAAA,IAAI,EAAEL,oBADqC;AAE3CI,EAAAA;AAF2C,CAAX,CAA3B;;AAKP,MAAMI,gBAAgB,GAAIJ,IAAD,KAAW;AAClCC,EAAAA,IAAI,EAAER,kBAD4B;AAElCO,EAAAA;AAFkC,CAAX,CAAzB;;AAKA,OAAO,MAAMK,gBAAgB,GAAIL,IAAD,KAAW;AACzCC,EAAAA,IAAI,EAAEN,kBADmC;AAEzCK,EAAAA;AAFyC,CAAX,CAAzB;AAKP,OAAO,MAAMM,YAAY,GAAIC,EAAD,IAAQ;AAClC,SAAOC,QAAQ,IAAI;AACjBX,IAAAA,qBAAqB,CAACU,EAAD,CAArB,CAA0BE,IAA1B,CAA+BC,GAAG,IAAI;AACpC,UAAIV,IAAI,GAAGU,GAAG,CAACC,QAAf;AACAH,MAAAA,QAAQ,CAACT,kBAAkB,CAACC,IAAD,CAAnB,CAAR;AACAQ,MAAAA,QAAQ,CAACL,kBAAkB,CAAC,KAAD,CAAnB,CAAR;AACAK,MAAAA,QAAQ,CAACH,gBAAgB,CAAC,CAAD,CAAjB,CAAR;AACAG,MAAAA,QAAQ,CAACJ,gBAAgB,CAACJ,IAAI,CAACY,MAAL,CAAYC,MAAb,CAAjB,CAAR;AACD,KAND,EAMGC,KANH,CAMS,MAAM;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACD,KARD;AASD,GAVD;AAWD,CAZM","sourcesContent":["import { CHANGE_CURRENT_ALBUM, CHANGE_TOTAL_COUNT, CHANGE_PULLUP_LOADING, CHANGE_START_INDEX, CHANGE_ENTER_LOADING } from './constants';\r\nimport { getAlbumDetailRequest } from '../../../api/request';\r\nimport { fromJS } from 'immutable';\r\n\r\nconst changeCurrentAlbum = (data) => ({\r\n  type: CHANGE_CURRENT_ALBUM,\r\n  data: fromJS(data)\r\n});\r\n\r\nexport const changePullUpLoading = (data) => ({\r\n  type: CHANGE_PULLUP_LOADING,\r\n  data\r\n});\r\nexport const changeEnterLoading = (data) => ({\r\n  type: CHANGE_ENTER_LOADING,\r\n  data\r\n});\r\n\r\nconst changeTotalCount = (data) => ({\r\n  type: CHANGE_TOTAL_COUNT,\r\n  data\r\n});\r\n\r\nexport const changeStartIndex = (data) => ({\r\n  type: CHANGE_START_INDEX,\r\n  data\r\n});\r\n\r\nexport const getAlbumList = (id) => {\r\n  return dispatch => {\r\n    getAlbumDetailRequest(id).then(res => {\r\n      let data = res.playlist;\r\n      dispatch(changeCurrentAlbum(data));\r\n      dispatch(changeEnterLoading(false));\r\n      dispatch(changeStartIndex(0));\r\n      dispatch(changeTotalCount(data.tracks.length))\r\n    }).catch(() => {\r\n      console.log(\"获取album数据失败!\")\r\n    })\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}