{"ast":null,"code":"var isFunc = require('is-function');\n\nvar slice = Array.prototype.slice;\nvar Promise;\n\nif (typeof window !== 'undefined') {\n  Promise = window.Promise;\n}\n\nif (typeof global !== 'undefined') {\n  Promise = global.Promise;\n}\n\nmodule.exports = function promisify(func) {\n  if (Promise) {\n    return function () {\n      var args = slice.call(arguments);\n      var ctx = this;\n\n      if (isFunc(args.slice(-1))) {\n        return func.apply(ctx, args);\n      } else {\n        return new Promise(function (resolve, reject) {\n          args.push(function (err, result) {\n            if (err) {\n              reject(err);\n            } else {\n              resolve.apply(this, slice.call(arguments, 1));\n            }\n          });\n          func.apply(ctx, args);\n        });\n      }\n    };\n  } else {\n    return func;\n  }\n};","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/node_modules/native-promisify-if-present/index.js"],"names":["isFunc","require","slice","Array","prototype","Promise","window","global","module","exports","promisify","func","args","call","arguments","ctx","apply","resolve","reject","push","err","result"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,aAAD,CAApB;;AACA,IAAIC,KAAK,GAAGC,KAAK,CAACC,SAAN,CAAgBF,KAA5B;AACA,IAAIG,OAAJ;;AAEA,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjCD,EAAAA,OAAO,GAAGC,MAAM,CAACD,OAAjB;AACD;;AACD,IAAI,OAAOE,MAAP,KAAkB,WAAtB,EAAmC;AACjCF,EAAAA,OAAO,GAAGE,MAAM,CAACF,OAAjB;AACD;;AAEDG,MAAM,CAACC,OAAP,GAAiB,SAASC,SAAT,CAAoBC,IAApB,EAA0B;AACzC,MAAIN,OAAJ,EAAa;AACX,WAAO,YAAY;AACjB,UAAIO,IAAI,GAAGV,KAAK,CAACW,IAAN,CAAWC,SAAX,CAAX;AACA,UAAIC,GAAG,GAAG,IAAV;;AACA,UAAIf,MAAM,CAACY,IAAI,CAACV,KAAL,CAAW,CAAC,CAAZ,CAAD,CAAV,EAA4B;AAC1B,eAAOS,IAAI,CAACK,KAAL,CAAWD,GAAX,EAAgBH,IAAhB,CAAP;AACD,OAFD,MAEO;AACL,eAAO,IAAIP,OAAJ,CAAY,UAAUY,OAAV,EAAmBC,MAAnB,EAA2B;AAC5CN,UAAAA,IAAI,CAACO,IAAL,CAAU,UAAUC,GAAV,EAAeC,MAAf,EAAuB;AAC/B,gBAAID,GAAJ,EAAS;AACPF,cAAAA,MAAM,CAACE,GAAD,CAAN;AACD,aAFD,MAEO;AACLH,cAAAA,OAAO,CAACD,KAAR,CAAc,IAAd,EAAoBd,KAAK,CAACW,IAAN,CAAWC,SAAX,EAAsB,CAAtB,CAApB;AACD;AACF,WAND;AAOAH,UAAAA,IAAI,CAACK,KAAL,CAAWD,GAAX,EAAgBH,IAAhB;AACD,SATM,CAAP;AAUD;AACF,KAjBD;AAkBD,GAnBD,MAmBO;AACL,WAAOD,IAAP;AACD;AACF,CAvBD","sourcesContent":["var isFunc = require('is-function')\nvar slice = Array.prototype.slice\nvar Promise\n\nif (typeof window !== 'undefined') {\n  Promise = window.Promise\n}\nif (typeof global !== 'undefined') {\n  Promise = global.Promise\n}\n\nmodule.exports = function promisify (func) {\n  if (Promise) {\n    return function () {\n      var args = slice.call(arguments)\n      var ctx = this\n      if (isFunc(args.slice(-1))) {\n        return func.apply(ctx, args)\n      } else {\n        return new Promise(function (resolve, reject) {\n          args.push(function (err, result) {\n            if (err) {\n              reject(err)\n            } else {\n              resolve.apply(this, slice.call(arguments, 1))\n            }\n          })\n          func.apply(ctx, args)\n        })\n      }\n    }\n  } else {\n    return func\n  }\n}\n"]},"metadata":{},"sourceType":"script"}