{"ast":null,"code":"import React from'react';import{SongList,SongItem}from\"./style\";import{getName}from'../../api/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SongsList=/*#__PURE__*/React.forwardRef(function(props,refs){var collectCount=props.collectCount,showCollect=props.showCollect,songs=props.songs;var totalCount=songs.length;var selectItem=function selectItem(e,index){console.log(index);};var songList=function songList(list){var res=[];var _loop=function _loop(i){var item=list[i];res.push(/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(e){return selectItem(e,i);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"index\",children:i+1}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[item.ar?getName(item.ar):getName(item.artists),\" - \",item.al?item.al.name:item.album.name]})]})]},item.id));};for(var i=0;i<list.length;i++){_loop(i);}return res;};var collect=function collect(count){return/*#__PURE__*/_jsxs(\"div\",{className:\"add_list\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE62D\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u6536\\u85CF(\",Math.floor(count/1000)/10,\"\\u4E07)\"]})]})// <div className=\"isCollected\">\n//   <span>已收藏({Math.floor(count/1000)/10}万)</span>\n// </div>\n;};return/*#__PURE__*/_jsxs(SongList,{ref:refs,showBackground:props.showBackground,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"first_line\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"play_all\",onClick:function onClick(e){return selectItem(e,0);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"iconfont\",children:\"\\uE6E3\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u64AD\\u653E\\u5168\\u90E8 \",/*#__PURE__*/_jsxs(\"span\",{className:\"sum\",children:[\"(\\u5171\",totalCount,\"\\u9996)\"]})]})]}),showCollect?collect(collectCount):null]}),/*#__PURE__*/_jsx(SongItem,{children:songList(songs)})]});});export default/*#__PURE__*/React.memo(SongsList);","map":{"version":3,"sources":["C:/Users/86136/Desktop/学习进度/new_html/fullstack_yyf/react/cloud-music/src/application/SongList/index.js"],"names":["React","SongList","SongItem","getName","SongsList","forwardRef","props","refs","collectCount","showCollect","songs","totalCount","length","selectItem","e","index","console","log","songList","list","res","i","item","push","name","ar","artists","al","album","id","collect","count","Math","floor","showBackground","memo"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,QAAnB,KAAmC,SAAnC,CACA,OAASC,OAAT,KAAwB,iBAAxB,C,wFAEA,GAAMC,CAAAA,SAAS,cAAGJ,KAAK,CAACK,UAAN,CAAiB,SAACC,KAAD,CAAQC,IAAR,CAAgB,IAEzCC,CAAAA,YAFyC,CAEJF,KAFI,CAEzCE,YAFyC,CAE3BC,WAF2B,CAEJH,KAFI,CAE3BG,WAF2B,CAEdC,KAFc,CAEJJ,KAFI,CAEdI,KAFc,CAIjD,GAAMC,CAAAA,UAAU,CAAGD,KAAK,CAACE,MAAzB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAIC,KAAJ,CAAc,CAC/BC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAFD,CAIA,GAAIG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CACvB,GAAIC,CAAAA,GAAG,CAAG,EAAV,CADuB,yBAEfC,CAFe,EAGrB,GAAIC,CAAAA,IAAI,CAAGH,IAAI,CAACE,CAAD,CAAf,CACAD,GAAG,CAACG,IAAJ,cACE,YAAkB,OAAO,CAAE,iBAACT,CAAD,QAAOD,CAAAA,UAAU,CAACC,CAAD,CAAIO,CAAJ,CAAjB,EAA3B,wBACE,aAAM,SAAS,CAAC,OAAhB,UAAyBA,CAAC,CAAG,CAA7B,EADF,cAEE,aAAK,SAAS,CAAC,MAAf,wBACE,sBAAOC,IAAI,CAACE,IAAZ,EADF,cAEE,wBACIF,IAAI,CAACG,EAAL,CAAUtB,OAAO,CAACmB,IAAI,CAACG,EAAN,CAAjB,CAA4BtB,OAAO,CAACmB,IAAI,CAACI,OAAN,CADvC,OAC4DJ,IAAI,CAACK,EAAL,CAAUL,IAAI,CAACK,EAAL,CAAQH,IAAlB,CAAyBF,IAAI,CAACM,KAAL,CAAWJ,IADhG,GAFF,GAFF,GAASF,IAAI,CAACO,EAAd,CADF,EAJqB,EAEvB,IAAI,GAAIR,CAAAA,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAGF,IAAI,CAACP,MAAxB,CAAgCS,CAAC,EAAjC,CAAqC,OAA7BA,CAA6B,EAapC,CACD,MAAOD,CAAAA,GAAP,CACD,CAjBD,CAmBA,GAAMU,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,CACzB,mBACE,aAAK,SAAS,CAAC,UAAf,wBACE,UAAG,SAAS,CAAC,UAAb,oBADF,cAEE,wCAAUC,IAAI,CAACC,KAAL,CAAWF,KAAK,CAAC,IAAjB,EAAuB,EAAjC,aAFF,GAIA;AACA;AACA;AAPF,CASD,CAVD,CAWA,mBACE,MAAC,QAAD,EAAU,GAAG,CAAExB,IAAf,CAAqB,cAAc,CAAED,KAAK,CAAC4B,cAA3C,wBACE,aAAK,SAAS,CAAC,YAAf,wBACE,aAAK,SAAS,CAAC,UAAf,CAA0B,OAAO,CAAE,iBAACpB,CAAD,QAAOD,CAAAA,UAAU,CAACC,CAAD,CAAI,CAAJ,CAAjB,EAAnC,wBACE,UAAG,SAAS,CAAC,UAAb,oBADF,cAEE,iEAAW,cAAM,SAAS,CAAC,KAAhB,qBAAyBH,UAAzB,aAAX,GAFF,GADF,CAKIF,WAAW,CAAGqB,OAAO,CAACtB,YAAD,CAAV,CAA2B,IAL1C,GADF,cAQE,KAAC,QAAD,WACIU,QAAQ,CAACR,KAAD,CADZ,EARF,GADF,CAcD,CAtDiB,CAAlB,CAwDA,2BAAeV,KAAK,CAACmC,IAAN,CAAW/B,SAAX,CAAf","sourcesContent":["import React from 'react';\r\nimport { SongList, SongItem } from \"./style\";\r\nimport { getName } from '../../api/utils';\r\n\r\nconst SongsList = React.forwardRef((props, refs)=> {\r\n\r\n  const { collectCount, showCollect, songs } = props;\r\n\r\n  const totalCount = songs.length;\r\n\r\n  const selectItem = (e, index) => {\r\n    console.log(index);\r\n  }\r\n\r\n  let songList = (list) => {\r\n    let res = [];\r\n    for(let i = 0; i < list.length; i++) {\r\n      let item = list[i];\r\n      res.push(\r\n        <li key={item.id} onClick={(e) => selectItem(e, i)}>\r\n          <span className=\"index\">{i + 1}</span>\r\n          <div className=\"info\">\r\n            <span>{item.name}</span>\r\n            <span>\r\n              { item.ar ? getName(item.ar): getName(item.artists) } - { item.al ? item.al.name : item.album.name}\r\n            </span>\r\n          </div>\r\n        </li>\r\n      )\r\n    }\r\n    return res;\r\n  };\r\n\r\n  const collect = (count) => {\r\n    return  (\r\n      <div className=\"add_list\">\r\n        <i className=\"iconfont\">&#xe62d;</i>\r\n        <span>收藏({Math.floor(count/1000)/10}万)</span>\r\n      </div>\r\n      // <div className=\"isCollected\">\r\n      //   <span>已收藏({Math.floor(count/1000)/10}万)</span>\r\n      // </div>\r\n    )\r\n  };\r\n  return (\r\n    <SongList ref={refs} showBackground={props.showBackground}>\r\n      <div className=\"first_line\">\r\n        <div className=\"play_all\" onClick={(e) => selectItem(e, 0)}>\r\n          <i className=\"iconfont\">&#xe6e3;</i>\r\n          <span>播放全部 <span className=\"sum\">(共{totalCount}首)</span></span>\r\n        </div>\r\n        { showCollect ? collect(collectCount) : null}\r\n      </div>\r\n      <SongItem>\r\n        { songList(songs) }\r\n      </SongItem>\r\n    </SongList>\r\n  )\r\n});\r\n\r\nexport default React.memo(SongsList);"]},"metadata":{},"sourceType":"module"}